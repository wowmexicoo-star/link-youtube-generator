<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>Bodycam MÃ©xico | Herramienta Oficial</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
      color: #fff;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 600px;
      margin: 40px auto;
      background-color: rgba(0, 0, 0, 0.7);
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
      text-align: center;
    }
    input[type="text"], button {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      margin-bottom: 15px;
      border: none;
      border-radius: 6px;
    }
    button {
      background-color: #00ffd5;
      color: #000;
      cursor: pointer;
    }
    button:hover {
      background-color: #00c2a8;
    }
    .hidden {
      display: none;
    }
    .publicidad {
      background-color: #1f1f1f;
      padding: 12px;
      margin: 15px 0;
      border: 1px dashed #555;
    }
    .publicidad small {
      font-size: 12px;
      display: block;
      margin-top: 8px;
      color: #bbb;
    }
    #contadorUsuarios {
      font-weight: bold;
      font-size: 18px;
      margin-bottom: 20px;
      color: #00ffd5;
    }
    a {
      color: #00ffd5;
      text-decoration: underline;
    }
  </style>
</head>
<body>
<div class="container" id="fase1">
  <h1>Inicia sesiÃ³n con Google</h1>
  <div id="g_id_onload" 
       data-client_id="TU_CLIENT_ID"
       data-callback="handleCredentialResponse">
  </div>
  <div class="g_id_signin" data-type="standard"></div>
  <div class="publicidad">
    ðŸ“˜ GuÃ­a para monetizar YouTube â€” <a href="#">Ver ahora</a>
    <small>Â¿Quieres anunciarte? Escribe a: <a href="mailto:nakamalol.channel@gmail.com">nakamalol.channel@gmail.com</a></small>
  </div>
  <div class="publicidad">
    ðŸŽ¯ Gana dinero con videos virales â€” <a href="#">PostÃºlate aquÃ­</a>
    <small>Â¿Quieres anunciarte? Escribe a: <a href="mailto:nakamalol.channel@gmail.com">nakamalol.channel@gmail.com</a></small>
  </div>
</div>

<div class="container hidden" id="fase2">
  <h2>Â¡Gracias por iniciar sesiÃ³n!</h2>
  <p>SuscrÃ­bete a nuestro canal antes de continuar:</p>
  <a href="https://www.youtube.com/@BodycamFilesMx?sub_confirmation=1" target="_blank">Suscribirse</a>
  <button onclick="mostrarFase3()">Ya me suscribÃ­</button>
  <div class="publicidad">
    ðŸ“˜ GuÃ­a para monetizar YouTube â€” <a href="#">Ver ahora</a>
    <small>Â¿Quieres anunciarte? Escribe a: <a href="mailto:nakamalol.channel@gmail.com">nakamalol.channel@gmail.com</a></small>
  </div>
  <div class="publicidad">
    ðŸŽ¯ Gana dinero con videos virales â€” <a href="#">PostÃºlate aquÃ­</a>
    <small>Â¿Quieres anunciarte? Escribe a: <a href="mailto:nakamalol.channel@gmail.com">nakamalol.channel@gmail.com</a></small>
  </div>
</div>

<div class="container hidden" id="fase3">
  <h2>Genera tu enlace personalizado</h2>
  <input type="text" id="url" placeholder="Pega aquÃ­ el enlace de un canal de YouTube">
  <button onclick="generarEnlace()">Generar enlace</button>
  <div id="output"></div>
  <button onclick="mostrarFase4()">Continuar</button>
  <div class="publicidad">
    ðŸ“˜ GuÃ­a para monetizar YouTube â€” <a href="#">Ver ahora</a>
    <small>Â¿Quieres anunciarte? Escribe a: <a href="mailto:nakamalol.channel@gmail.com">nakamalol.channel@gmail.com</a></small>
  </div>
  <div class="publicidad">
    ðŸŽ¯ Gana dinero con videos virales â€” <a href="#">PostÃºlate aquÃ­</a>
    <small>Â¿Quieres anunciarte? Escribe a: <a href="mailto:nakamalol.channel@gmail.com">nakamalol.channel@gmail.com</a></small>
  </div>
</div>

<div class="container hidden" id="fase4">
  <h2>Ãšltimo paso</h2>
  <p>Revisa este video antes de aplicar:</p>
  <iframe width="100%" height="315" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allowfullscreen></iframe>
  <a href="https://forms.gle/urXPCE2hpKkrjBpF9" target="_blank">
    <button>PostÃºlate como colaborador</button>
  </a>
  <div class="publicidad">
    ðŸ“˜ GuÃ­a para monetizar YouTube â€” <a href="#">Ver ahora</a>
    <small>Â¿Quieres anunciarte? Escribe a: <a href="mailto:nakamalol.channel@gmail.com">nakamalol.channel@gmail.com</a></small>
  </div>
  <div class="publicidad">
    ðŸŽ¯ Gana dinero con videos virales â€” <a href="#">PostÃºlate aquÃ­</a>
    <small>Â¿Quieres anunciarte? Escribe a: <a href="mailto:nakamalol.channel@gmail.com">nakamalol.channel@gmail.com</a></small>
  </div>
</div>

<script>
  function handleCredentialResponse(response) {
    const data = parseJwt(response.credential);
    const nombre = data.name;
    const correo = data.email;

    fetch("https://formspree.io/f/mvgqvgon", {
      method: "POST",
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ nombre, correo })
    });

    document.getElementById("fase1").classList.add("hidden");
    document.getElementById("fase2").classList.remove("hidden");
  }

  function parseJwt(token) {
    const base64Url = token.split('.')[1];
    const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
    const jsonPayload = decodeURIComponent(atob(base64).split('').map(c => {
      return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
    }).join(''));
    return JSON.parse(jsonPayload);
  }

  function mostrarFase3() {
    document.getElementById("fase2").classList.add("hidden");
    document.getElementById("fase3").classList.remove("hidden");
  }

  function mostrarFase4() {
    document.getElementById("fase3").classList.add("hidden");
    document.getElementById("fase4").classList.remove("hidden");
  }

  function generarEnlace() {
    const url = document.getElementById("url").value;
    const enlace = url + "?sub_confirmation=1";
    document.getElementById("output").innerHTML = `
      <p>Tu enlace:</p>
      <input type="text" value="${enlace}" readonly>
      <button onclick="copiarAlPortapapeles('${enlace}')">Copiar</button>
    `;
  }

  function copiarAlPortapapeles(texto) {
    navigator.clipboard.writeText(texto);
    alert("Â¡Enlace copiado!");
  }
</script>
</body>
</html>
